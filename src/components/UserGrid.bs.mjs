// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Cn from "rescript-classnames/src/Cn.bs.mjs";
import * as Header from "./Header.bs.mjs";
import * as GridItem from "./GridItem.bs.mjs";
import * as LoggerStep from "../helpers/LoggerStep.bs.mjs";
import * as NewPlayerForm from "./NewPlayerForm.bs.mjs";
import * as Belt_MapString from "rescript/lib/es6/belt_MapString.js";
import * as JsxRuntime from "react/jsx-runtime";

function UserGrid(props) {
  var setStep = props.setStep;
  var setSelectedUsers = props.setSelectedUsers;
  var selectedUsers = props.selectedUsers;
  var players = props.players.map(function (item) {
        var match = Belt_MapString.get(selectedUsers, item.key);
        var tmp;
        tmp = match !== undefined ? (
            match === "Blue" ? "ring-6 ring-blue" : "ring-6 ring-red"
          ) : "ring-0";
        return JsxRuntime.jsxs(GridItem.make, {
                    active: Belt_MapString.has(selectedUsers, item.key),
                    children: [
                      JsxRuntime.jsx("button", {
                            children: JsxRuntime.jsx("b", {
                                  children: item.name
                                }),
                            className: "text-black text-3xl",
                            onClick: (function (param) {
                                setSelectedUsers(function (s) {
                                      return Belt_MapString.remove(s, item.key);
                                    });
                              })
                          }),
                      JsxRuntime.jsxs("div", {
                            children: [
                              JsxRuntime.jsx("button", {
                                    children: "Blauw",
                                    className: "bg-[#86b7ff] border-none cursor-pointer text-3xl rounded-bl text-black",
                                    onClick: (function (param) {
                                        setSelectedUsers(function (s) {
                                              return Belt_MapString.set(s, item.key, "Blue");
                                            });
                                      })
                                  }),
                              JsxRuntime.jsx("button", {
                                    children: "Rood",
                                    className: "bg-[#ff8686] border-none cursor-pointer text-3xl rounded-br text-black",
                                    onClick: (function (param) {
                                        setSelectedUsers(function (s) {
                                              return Belt_MapString.set(s, item.key, "Red");
                                            });
                                      })
                                  })
                            ],
                            className: "grid grid-cols-2"
                          })
                    ],
                    className: Cn.make([
                          "rounded bg-white grid grid-rows-user auto-rows-[1fr] h-[220px] transition-all",
                          tmp
                        ])
                  }, item.key);
      });
  return JsxRuntime.jsxs(JsxRuntime.Fragment, {
              children: [
                JsxRuntime.jsx(Header.make, {
                      step: "UserSelection",
                      onNextStep: (function () {
                          setStep(function (step) {
                                return LoggerStep.getNextStep(step);
                              });
                        }),
                      onReset: props.reset,
                      disabled: Belt_MapString.size(selectedUsers) <= 1
                    }),
                JsxRuntime.jsxs("div", {
                      children: [
                        players,
                        JsxRuntime.jsx(GridItem.make, {
                              active: false,
                              children: JsxRuntime.jsx(NewPlayerForm.make, {})
                            })
                      ],
                      className: "grid 2xl:grid-cols-5 xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-3 grid-cols-2 gap-10 mt-8 content-padding"
                    })
              ]
            });
}

var make = UserGrid;

export {
  make ,
}
/* Header Not a pure module */
