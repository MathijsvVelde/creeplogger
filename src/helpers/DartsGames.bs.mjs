// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Schema from "./Schema.bs.mjs";
import * as Database from "./Database.bs.mjs";
import * as RescriptCore from "@rescript/core/src/RescriptCore.bs.mjs";
import * as Database$1 from "firebase/database";

var dartsModeSchema = Schema.union([
      Schema.object(function (s) {
            s.tag("kind", "r");
            return "AroundTheClock";
          }),
      Schema.object(function (s) {
            s.tag("kind", "b");
            return "Bullen";
          }),
      Schema.object(function (s) {
            s.tag("kind", "k");
            return "Killer";
          }),
      Schema.object(function (s) {
            s.tag("kind", "5");
            return "M501";
          }),
      Schema.object(function (s) {
            s.tag("kind", "3");
            return "M301";
          })
    ]);

function dartsModeToString(dartsMode) {
  switch (dartsMode) {
    case "AroundTheClock" :
        return "Around the Cock";
    case "Bullen" :
        return "Bullen";
    case "Killer" :
        return "Killer";
    case "M501" :
        return "501";
    case "M301" :
        return "301";
    
  }
}

var dartsGameSchema = Schema.object(function (s) {
      return {
              winners: s.f("w", Schema.array(Schema.string)),
              losers: s.f("l", Schema.array(Schema.string)),
              date: s.f("d", Schema.transform(Schema.$$float, (function (param) {
                          return {
                                  p: (function (prim) {
                                      return new Date(prim);
                                    }),
                                  s: (function (prim) {
                                      return prim.getTime();
                                    })
                                };
                        }))),
              mode: s.f("m", dartsModeSchema)
            };
    });

function addDartsGame(dartsGame) {
  var dartsGamesRef = Database$1.ref(Database.database, "dartsGames");
  var data = Schema.serializeWith(dartsGame, dartsGameSchema);
  if (data.TAG === "Ok") {
    return Database$1.push(dartsGamesRef, data._0);
  } else {
    return RescriptCore.panic("Could not create darts game");
  }
}

export {
  addDartsGame ,
  dartsModeToString ,
}
/* dartsModeSchema Not a pure module */
