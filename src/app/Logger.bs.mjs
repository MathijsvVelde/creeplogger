// Generated by ReScript, PLEASE EDIT WITH CARE

import * as React from "react";
import * as Players from "../helpers/Players.bs.mjs";
import * as UserGrid from "./UserGrid.bs.mjs";
import * as ScoreStep from "./ScoreStep.bs.mjs";
import * as Belt_MapString from "rescript/lib/es6/belt_MapString.js";
import * as Fonts from "../helpers/fonts";
import * as ConfirmationStep from "./ConfirmationStep.bs.mjs";
import * as JsxRuntime from "react/jsx-runtime";
import * as LoggerModuleCss from "./logger.module.css";

var styles = LoggerModuleCss;

var inter = Fonts.inter;

function Logger(props) {
  var players = Players.useAllPlayers();
  var match = React.useState(function () {
        
      });
  var setSelectedUsers = match[1];
  var selectedUsers = match[0];
  var match$1 = React.useState(function () {
        return "UserSelection";
      });
  var setStep = match$1[1];
  var match$2 = React.useState(function () {
        return -1;
      });
  var setRedState = match$2[1];
  var redState = match$2[0];
  var match$3 = React.useState(function () {
        return -1;
      });
  var setBlueState = match$3[1];
  var blueState = match$3[0];
  var match$4 = React.useState(function () {
        return 0;
      });
  var setEarnedPoints = match$4[1];
  var reset = function () {
    setStep(function (param) {
          return "UserSelection";
        });
    setSelectedUsers(function (param) {
          
        });
    setBlueState(function (param) {
          return -1;
        });
    setRedState(function (param) {
          return -1;
        });
    setEarnedPoints(function (param) {
          return 0;
        });
  };
  var winnerTeam = redState > blueState ? "Blue" : "Red";
  var winners = Belt_MapString.keysToArray(Belt_MapString.keep(selectedUsers, (function (param, value) {
              return value === winnerTeam;
            })));
  var stepComponent;
  switch (match$1[0]) {
    case "UserSelection" :
        stepComponent = JsxRuntime.jsx(UserGrid.make, {
              selectedUsers: selectedUsers,
              setSelectedUsers: setSelectedUsers,
              reset: reset,
              setStep: setStep,
              players: players
            });
        break;
    case "ScoreForm" :
        stepComponent = JsxRuntime.jsx(ScoreStep.make, {
              selectedUsers: selectedUsers,
              setStep: setStep,
              reset: reset,
              blueState: blueState,
              setBlueState: setBlueState,
              redState: redState,
              setRedState: setRedState,
              setEarnedPoints: setEarnedPoints,
              players: players
            });
        break;
    case "Confirmation" :
        stepComponent = JsxRuntime.jsx(ConfirmationStep.make, {
              score: match$4[0],
              winners: winners,
              reset: reset,
              players: players
            });
        break;
    
  }
  return JsxRuntime.jsx("div", {
              children: stepComponent,
              className: styles.page + " " + inter.className
            });
}

var make = Logger;

export {
  styles ,
  inter ,
  make ,
}
/* styles Not a pure module */
